{% extends 'base.html.twig' %}

{% block stylesheets %}
  <link rel="stylesheet" href="{{ asset('css/navbsideb.css') }}">
  <script src="https://unpkg.com/scrollreveal@4"></script>
  <script src="{{ asset('js/jquery.dataTables.min.js') }}"></script>
  <script src="{{ asset('js/hilitor.js') }}"></script>
<script src="{{ asset('js/dataTables.bootstrap.min.js') }}"></script>
{% endblock %}



{% block menus %}
  <!-- Sidebar  -->
  {{ include('inc/sidebar.html.twig') }}

  <!-- Navbar -->
  {{ include('inc/navbar.html.twig') }}
{% endblock %}

{# {% block javascripts %}
{% endblock %} #}

{% block navscripts %}
<script>
/* -------- This script is used to collapse the sidebar and resize its content ----------- */
  $(document).ready(function () {
    $('#sidebarCollapse').on('click', function () {
      $('#sidebar').toggleClass('active');
      $('.navbar').toggleClass('active');
      $('#content').toggleClass('active');
      if (localStorage.getItem("collapsecookie") == 1) {
        localStorage.setItem("collapsecookie", 0);
      } else if (localStorage.getItem("collapsecookie") == 0) {
        localStorage.setItem("collapsecookie", 1);
      }
      //console.log('dupa click =>'+localStorage.getItem("collapsecookie"));
    });

    if (localStorage.getItem("collapsecookie") == null ) {
      localStorage.setItem("collapsecookie", 0);
      console.log('Am pus 0!!!');
    } else if (localStorage.getItem("collapsecookie") == 1) {
      $('#sidebar').toggleClass('active');
      $('.navbar').toggleClass('active');
      $('#content').toggleClass('active');
      //console.log('ERA 1!');
    } else {
      //console.log('ERA 0!');
    }

  });

  // remove all active links
  $("#sidebar li").each(function() { $(this).removeClass("active") });

  // add active to the button (or parents) which are active and expand them
  $("#sidebar li").each(function() {
    var h = $("a",this).attr('href');

    //console.log(h+'\n'+window.location.pathname)
    if (h == window.location.pathname) {
        $(this).addClass("active");
        $(this).parents("li").addClass("active");
        $(this).parents("li").children("a").click();
        //$(this).parents("li").children("a").attr("aria-expanded","true");
        //$(this).parents("li").children("a").removeClass("collapsed");
    } else {
        //$(this).removeClass("active");
    }
  });

</script>

<script>
  /* -------- This script was used to hide the scrollbar ----------- */
  //var parent = document.getElementById('sidebar'); // this is actually not needed
  //var child = document.getElementById('sidebarChild');
  //var myOffset = child.offsetWidth - child.clientWidth;
  // child.style.paddingRight = myOffset + "px";
  // child.style.width = child.clientWidth + myOffset + "px";
</script>
{% endblock %}
